<link rel="import" href="../../bower_components/polymer/polymer-element.html">
<link rel="import" href="../my-mixin.html">
<link rel="import" href="../../bower_components/paper-dialog/paper-dialog.html">

<dom-module id="notification-dialog">
    <link rel="import" type="css" href="../css/style.css">
    <link rel="import" type="css" href="../css/materialize.css">
    <link rel="import" type="css" href="../css/commonDialog.css">
    <template>
        <paper-dialog id="notificationDialog" class="paper-for-common" notificationDialog on-iron-overlay-closed="close"
                      with-backdrop>
            <div class="confirm-wrapper">
                <div class="header-custom">
                    <div style="display: inline-block">
                        <slot name="titleIcon"></slot>
                    </div>
                    <div style="display: inline-block">
                        [[headerText]]
                    </div>
                </div>
                <a class="waves-effect waves-light" on-tap="close">
                    <img class="close-img" src="images/x-close.png"/></a>
            </div>
            <div class="body scroll-content">
                <p class="confirm-message">[[contentMessage]]</p>
                <slot></slot>
            </div>
        </paper-dialog>


    </template>
    <script>
        {
            /**
             * A pure Polymer Web Component for numeric fields.
             */
            class NotificationDialog extends Polymer.GestureEventListeners
            (MyMixin(Polymer.Element)) {
                static
                get is()
                {
                    return 'notification-dialog';
                }

                static
                get properties()
                {
                    return {
                        headerText: {
                            type: String,
                            value: 'Confirmation'
                        },
                        contentMessage: {
                            type: String,
                            value: 'Do you want to continue?'
                        }
                    };
                }

                ready()
                {
                    super.ready();
                    //transfer attribute default to paper-dialog
                    var arrAttributes = this.getAttributeNames();
                    for (var j = 0; j < arrAttributes.length; j++)
                    {
                        var element = arrAttributes[j];
                        if (this.getAttribute(element) == undefined || this.getAttribute(element) == "")
                        {
                            console.log("host transfer attribute " + element);
                            this.$.formDialog.setAttribute("no-cancel-on-outside-click", this.getAttribute(element));
                        }
                    }
                }

                open()
                {
                    this.$.notificationDialog.open();
                }

                close()
                {
                    this.$.notificationDialog.close();
                }


            }

            window.customElements.define(NotificationDialog.is, NotificationDialog);
        }
    </script>
</dom-module>
