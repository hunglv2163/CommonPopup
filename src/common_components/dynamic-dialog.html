<link rel="import" href="../../bower_components/polymer/polymer-element.html">
<link rel="import" href="../my-mixin.html">
<link rel="import" href="../../bower_components/paper-dialog/paper-dialog.html">

<dom-module id="dynamic-dialog" >
    <link rel="import" type="css" href="../css/style.css">
    <link rel="import" type="css" href="../css/materialize.css">
    <link rel="import" type="css" href="../css/commonDialog.css">
    <template>
        <paper-dialog id="formDialog" class="paper-for-common" formDialog on-iron-overlay-closed="close" with-backdrop>
            <div class="confirm-wrapper">
                <div class="header-custom header">
                    <div style="display: inline-block">
                        <slot name="titleIcon"></slot>
                    </div>
                    <div  class="header" style="display: inline-block">
                    [[headerText]]
                    </div>
                </div>
                <div>
                    <a class="waves-effect waves-light" on-tap="close">
                        <img class="close-img" src="images/x-close.png"/></a>
                </div>
            </div>
            <div class="body">
                <slot></slot>
            </div>

            <div class="modal-footer">
                <a class="waves-effect waves-light btn-submit left btn-cancel btn-popup-right cancel-button"
                   on-tap="cancelClick">
                    <div style="display: inline-flex;">
                        <div class="cancel-label">
                            [[cancelLabel]]
                        </div>
                    </div>
                </a>
                <a class="waves-effect waves-light btn-submit right btn-cancel btn-popup-right ok-button"
                   on-tap="okClick">
                    <div style="display: inline-flex;">
                        <div class="ok-label">
                            [[okLabel]]
                        </div>
                    </div>
                </a>
            </div>
        </paper-dialog>
    </template>
    <script>
        {
            /**
             * A pure Polymer Web Component for numeric fields.
             */
            class DynamicDialog extends Polymer.GestureEventListeners
            (MyMixin(Polymer.Element))
            {
                static
                get
                is()
                {
                    return 'dynamic-dialog';
                }

                static
                get
                properties()
                {
                    return {
                        headerText: {
                            type: String,
                            value: 'Confirmation'
                        },
                        cancelLabel: {
                            type: String,
                            value: 'Cancel'
                        },
                        okLabel: {
                            type: String,
                            value: 'OK'
                        }

                    };
                }
                open()
                {
                    this.$.formDialog.open();
                }
                close()
                {
                    this.$.formDialog.close();
                }

                cancelClick()
                {
                    this.dispatchEvent(new CustomEvent('cancel-click'));
                    this.$.formDialog.close();
                }
                okClick()
                {
                    console.log('okClick');
                    this.dispatchEvent(new CustomEvent('ok-click'));

                }

            }
            window.customElements.define(DynamicDialog.is, DynamicDialog);
        }
    </script>
</dom-module>
