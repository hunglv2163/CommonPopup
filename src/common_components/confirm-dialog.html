<link rel="import" href="../../bower_components/polymer/polymer-element.html">
<link rel="import" href="../my-mixin.html">
<link rel="import" href="../../bower_components/paper-dialog/paper-dialog.html">

<dom-module id="confirm-dialog" >
<link rel="import" type="css" href="../css/style.css">
<link rel="import" type="css" href="../css/materialize.css">
    <template>
        <style>
            :host{
                top: 15%;
                border-radius: 3px;
                min-width: 300px;
            }
            #confirmDialog {
                top: inherit;
                border-radius: inherit;
                min-width: inherit;
                width: inherit;
            }

            .confirm-wrapper {
                border-bottom: 1px solid rgba(27, 28, 33, 0.1);
                display: flex;
                justify-content: space-between;
                padding-bottom: 10px;
                border-radius: 3px;
                margin-top: 0px;
                background-color: #f4f4f4;
                padding-top: 13px;
            }

            .header-custom {
                width: 40%;
                display: inline-block;
                text-transform: none;
                font-size: 12pt;
                font-weight: 500;
            }

            .close-img {
                height: 15px;
            }

            .body {
                margin-top: 13px;
            }

            .confirm-message {
                font-size: 12pt;
                font-weight: normal;
            }

            .modal-footer {
                text-align: center;
                border-top: 1px solid rgba(27, 28, 33, 0.1);
                min-height: 32px;
                padding: 8px 24px;
                margin-bottom: 0px;
            }

            .cancel-button {
                background: #f4f4f4;
                text-align: center;
                border-radius: 3px;
                min-width: 75px;
            }

            .cancel-label {
                color: black;
                padding: 5px 10px;
                font-size: 12pt;
            }

            .ok-button {
                background: #3278ef;
                text-align: center;
                border-radius: 3px;
                min-width: 75px;
            }

            .ok-label {
                color: white;
                padding: 5px 10px;
                font-size: 12pt;
            }
        </style>


        <paper-dialog id="confirmDialog" confirmDialog on-iron-overlay-closed="close" with-backdrop>
            <div class="confirm-wrapper">
                <div class="header-custom header">
                    [[confirmationHeader]]
                </div>
                <div>
                    <a class="waves-effect waves-light" on-tap="close">
                        <img class="close-img" src="images/x-close.png"/>
                    </a>
                </div>
            </div>
            <div class="body">
                <div class="cancel-content">
                    <div class="_container text-center">
                        <p class="confirm-message">[[confirmMessage]]</p>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <a class="waves-effect waves-light btn-submit left btn-cancel btn-popup-right cancel-button"
                   on-tap="cancelConfirmDelete">
                    <div style="display: inline-flex;">
                        <div class="cancel-label">
                            [[cancelLabel]]
                        </div>
                    </div>
                </a>
                <a class="waves-effect waves-light btn-submit right btn-cancel btn-popup-right ok-button"
                   on-tap="acceptConfirmDelete">
                    <div style="display: inline-flex;">
                        <div class="ok-label">
                            [[okLabel]]
                        </div>
                    </div>
                </a>
            </div>
        </paper-dialog>

    </template>
    <script>
        {
            /**
             * A pure Polymer Web Component for numeric fields.
             */
            class ConfirmDialog extends Polymer.GestureEventListeners
            (MyMixin(Polymer.Element)) {
                static
                get is()
                {
                    return 'confirm-dialog';
                }

                static
                get properties()
                {
                    return {
                        confirmationHeader: {
                            type: String,
                            value: 'Confirmation'
                        },
                        confirmMessage: {
                            type: String,
                            value: 'Do you want to continue?'
                        },
                        cancelLabel: {
                            type: String,
                            value: 'Cancel'
                        },
                        okLabel: {
                            type: String,
                            value: 'OK'
                        }

                    };
                }

                open()
                {
                    this.$.confirmDialog.open();
                }

                close()
                {
                    this.$.confirmDialog.close();
                }

                cancelConfirmDelete()
                {
                    this.dispatchEvent(new CustomEvent('cancel-click'));

                    this.$.confirmDialog.close();
                }

                acceptConfirmDelete()
                {
                    console.log('acceptConfirmDelete');
                    this.dispatchEvent(new CustomEvent('ok-click'));
                    this.$.confirmDialog.close();

                }

            }

            window.customElements.define(ConfirmDialog.is, ConfirmDialog);
        }
    </script>
</dom-module>
